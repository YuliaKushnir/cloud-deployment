apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: cloud-demo

resources:
  # Namespace
  - namespace/namespace.yml

  # Infrastructure (databases, message brokers, search engine)
  - postgresql
  - consul
  - rabbitmq
  - elasticsearch
  - kibana

  # Application services
  - gateway
  - posts-service
  - mail-service

  # Ingress (external access)
  - ingress